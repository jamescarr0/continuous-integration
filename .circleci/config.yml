# Python CircleCI 2.0 Configuration File.

version: 2
jobs:
  build:
    docker:
      - image: circleci/python:3.7

      working_directory: ~/repo

      steps:
        # Step 1: obtain repo from GitHub
        - checkout

        # Step 2: Create virtual env and install dependencies
        - run:
            name: install dependencies
              command:  |
                python3 -m venv venv
                source venv/bin/activate
                pip install -r requirements.txt

        # Run the tests
        - run:
          name: run tests
            command:  |
              source venv/bin/activate
              pytest -v --cov=libcalc